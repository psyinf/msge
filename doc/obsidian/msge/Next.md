* remove "type" from BaseEntity et al. and move this to the state
* use the tag-type and build a factory (with registered factory functions) to generate from tags